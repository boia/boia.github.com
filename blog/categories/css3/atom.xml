<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: css3 | boia's博客]]></title>
  <link href="http://boia.github.com/blog/categories/css3/atom.xml" rel="self"/>
  <link href="http://boia.github.com/"/>
  <updated>2013-04-09T11:27:32+08:00</updated>
  <id>http://boia.github.com/</id>
  <author>
    <name><![CDATA[boia]]></name>
    <email><![CDATA[zhengwang2314@qq.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[纪念地球节电一小时]]></title>
    <link href="http://boia.github.com/blog/2013/03/24/ditiejiedian/"/>
    <updated>2013-03-24T16:18:00+08:00</updated>
    <id>http://boia.github.com/blog/2013/03/24/ditiejiedian</id>
    <content type="html"><![CDATA[<h2>2013-3-23 节电</h2>

<p>世界自然基金会在2007年向全球发出的一项倡议：就是在每年三月的最后一个星期六20：30~21：30期间熄灯1小时，为了纪念这个活动，我用CSS3+JS代码模拟了一个节电活动，如果你是IE(或者国内山寨浏览器)的忠实用户，请绕道吧。</p>

<!-- more -->


<p><a href="/art/light.html">预览效果</a></p>

<br><br>


<h2>代码解析</h2>

<br><br>


<p>```javascript</p>

<pre><code>window.onload = function(){
    var $ = function(id){
        return document.getElementById(id);
    };

    var light = $("light");
    var dark = $("dark");
    var isDark = false;

    //var centerX = 0;
    //var centerY = 0;
    //var isMove = 0;

    light.onclick = function(){
        if(isDark){
            light.style.backgroundPosition = "0 0";
            dark.style.backgroundColor = "rgba(0,0,0,1)";
            isDark = false;
        }
        else{
            light.style.backgroundPosition = "0 -50";
            dark.style.backgroundColor = "rgba(0,0,0,0.5)";             
            isDark = true;
        }

    };

    dark.onmousemove = function(e){
            var x = e.clientX;
            var y = e.clientY;
        if(isDark){
            dark.style.background = "rgb(0,0,0) -webkit-gradient(radial,"+x+" "+y+", 50,"+x+" "+y+",80, from(rgba(255,255,255,1)), to(rgba(255,255,255,0.7)), color-stop(100%, rgba(255,255,255,0.4)))";

            //手电筒效果
            /*dark.style.background = "rgb(0,0,0) -webkit-gradient(radial,center center, 30,"+x+" "+y+",80, from(rgba(0,0,0,1)), to(rgba(255,255,255,0.6)), color-stop(100%, rgba(255,255,255,0.9)))";*/
        }
        else{
            dark.style.background = "rgba(0,0,0,1)";
        }           
    }
}
</code></pre>

<p>```</p>

<br><br>


<p>感觉移动鼠标的时候，明显有些卡，将背景色处理放在setInterval中处理，效果也一样，应该是gradient函数中的终始坐标都用变量，而且是个时刻在改变的变量，那么就出现了卡的现象。动画帧频我觉得还是canvas处理比较好玩，对于gradient()这个函数，我也是今天第一次用，如果有什么不懂，可以去看下CSS手册。对于效果，程序主要围绕着给Object.style.background赋值来实现特效。</p>

<p>我还写了一个手电筒效果，这个效果明显流畅很多，因为起始的坐标用了一个定值，鼠标带动手电
筒照亮黑暗的地方。对CSS3我不是很熟，但确实很厉害。</p>

<p>最近准备写个关于canvas的教程(是根据ActionScript来写的)。

[Ruby]:			http://www.ruby-lang.org						"Ruby"
[git]:			http://git-scm.com/								"Git"
[Jekyll]:		https://github.com/mojombo/jekyll/wiki			"Jekyll"
[Octopress]:	http://octopress.org							"Octopress"
[Markdown]:		http://daringfireball.net/projects/markdown/	"Markdown"
[Google]:		http://www.google.com							"Google"
[Yahoo]:		http://www.yahoo.com							"Yahoo"
[Twitter]:		http://twitter.com/								"Twitter"

[Firebug]:		http://getfirebug.com/							"Firebug"

[Wikipedia]:	http://www.wikipedia.org						"Wikipedia"
[维基百科]:		http://zh.wikipedia.org							"维基中文"

[煎蛋]:			http://jandan.net								"煎蛋"
[小众软件]:		http://appinn.com								"小众软件"
[小众]:			http://appinn.com								"小众软件"
[新浪微博]:		http://weibo.com								"新浪微博"
[微博]:			http://weibo.com								"新浪微博"
[墙]:			http://zh.wikipedia.org/wiki/%E9%98%B2%E7%81%AB%E9%95%BF%E5%9F%8E	"叹息之墙"
[知乎]:			http://www.zhihu.com							"知乎"

[CSSer]:		http://www.csser.com/							"CSSer"

[Node.JS]:		http://nodejs.org								"Node.JS"
[NPM]:			http://search.npmjs.org/						"NPM Registry"
[mocha]:		http://visionmedia.github.com/mocha/			"mocha"
[CoffeeScript]:	http://coffeescript.org/						"CoffeeScript"
[Coffee]:		http://coffeescript.org/						"CoffeeScript"
[JSCoverage]:	http://siliconforks.com/jscoverage/				"JSCoverage"
[node-jscoverage]: https://github.com/visionmedia/node-jscoverage "node-jscoverage"
[Jasmine]:		http://pivotal.github.com/jasmine/				"Jasmine"

[GitHub]:		https://github.com								"GitHub"

</p>
]]></content>
  </entry>
  
</feed>
